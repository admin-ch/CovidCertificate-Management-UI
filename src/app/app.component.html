<ob-master-layout [navigation]="navigation">
	<ng-container obHeaderTitle>{{ "application.title" | translate }}</ng-container>
	<ng-template #obHeaderControl>
		<ob-dropdown position="left">
			<span dropdown-toggle class="fa fa-fw fa-question ob-control-icon"></span>
			<ng-container dropdown-content>
				<h4>{{ "support.title" | translate }}</h4>
				<p>{{ "support.instructions" | translate }}</p>
				<a href="tel:+41584658888">058 465 88 88</a>
				<section *ngIf="lang$ | async as lang">
					<div class="help-link">
						<a
							[href]="'https://www.eiam.admin.ch/index.php?c=f!supportggg!pub&l=' + lang"
							target="_blank"
							rel="noopener noreferrer"
							id="support_link"
						>
							<span class="icon-link"><span class="fas fa-external-link-alt"></span></span
							>{{ "home.support" | translate }}
						</a>
					</div>
					<div class="help-link">
						<a
							[href]="'https://www.eiam.admin.ch/index.php?c=f!dmggg!pub&l=' + lang"
							target="_blank"
							rel="noopener noreferrer"
							id="administration_link"
						>
							<span class="icon-link"><span class="fas fa-external-link-alt"></span></span
							>{{ "home.administration" | translate }}
						</a>
					</div>
					<div class="help-link">
						<a
							[href]="'https://www.eiam.admin.ch/covidcertificatetrainer?l=' + lang"
							target="_blank"
							rel="noopener noreferrer"
							id="training_link"
						>
							<span class="icon-link"><span class="fas fa-external-link-alt"></span></span
							>{{ "home.training" | translate }}
						</a>
					</div>
					<div class="help-link">
						<a
							href="{{ 'home.issuer.url' | translate }}"
							target="_blank"
							rel="noopener noreferrer"
							id="issuer_link"
						>
							<span class="icon-link"><span class="fas fa-external-link-alt"></span></span
							>{{ "home.issuer" | translate }}
						</a>
					</div>
				</section>
			</ng-container>
		</ob-dropdown>
	</ng-template>
	<ng-container *ngIf="isAuthenticated$ | async">
		<ng-template #obHeaderControl>
			<button id="button-logout" [matTooltip]="'logout' | translate" class="ob-control-link" (click)="logout()">
				<span class="fa fa-sign-out-alt ob-control-icon"></span>
			</button>
		</ng-template>
		<ng-container *ngIf="currentPage">
			<ng-template #obHeaderControl>
				<ec-eiam-self-admin [page]="currentPage" [name]="name$ | async"></ec-eiam-self-admin>
			</ng-template>
		</ng-container>
	</ng-container>
	<ng-container obFooterInfo>
		<p class="info">
			&copy; 2020 {{ "application.organization.name" | translate
			}}<span class="viewport-expanded">
				-
				{{ "footer.built.prefix" | translate }}
				<a href="https://oblique.bit.admin.ch" title="The front-end framework for your Swiss branded UI."
					>Oblique</a
				>
				{{ "footer.built.suffix" | translate }}</span
			>
		</p>
		<p class="viewport-collapsed">
			{{ "footer.built.prefix" | translate }}
			<a href="https://oblique.bit.admin.ch" title="The front-end framework for your Swiss branded UI."
				>Oblique</a
			>
			{{ "footer.built.suffix" | translate }}
		</p>
	</ng-container>
	<ng-template #obFooterLink>
		<a [href]="'footer.legal.url' | translate" target="_blank" role="menuitem" rel="noopener noreferrer">{{
			"footer.legal" | translate
		}}</a>
	</ng-template>
</ob-master-layout>
